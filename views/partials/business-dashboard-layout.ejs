<!-- ‚úÖ Business Dashboard Layout -->
<div class="dashboard-layout">
  <!-- Sidebar -->
  <aside class="sidebar">
    <div class="brand">
      <h2>üíº <span>My Business</span></h2>
      <p><%= business ? business.name : "Guest" %></p>
    </div>

    <nav class="nav-menu">
      <a href="/business/profile" class="nav-item <%= active === 'profile' ? 'active' : '' %>">üë§ Profile</a>
      <a href="/business/profile/edit" class="nav-item <%= active === 'edit' ? 'active' : '' %>">‚úèÔ∏è Edit Profile</a>
      <a href="/business/profile/delete" class="nav-item <%= active === 'delete' ? 'active' : '' %>">üóë Delete Account</a>
      <a href="/business/dashboard" class="nav-item">üìä Dashboard</a>
      <a href="/products/all" class="nav-item">üõç My Products</a>
      <a href="/business/logout" class="nav-item logout">üö™ Logout</a>
    </nav>
  </aside>

  <!-- Main content -->
  <main class="main-content <%= themeCss.includes('dark') ? 'dark-theme' : 'light-theme' %>">
    <%- body %>
  </main>
</div>

<!-- ‚úÖ Floating mobile toggle -->
<button id="menuToggle" class="menu-toggle">‚ò∞</button>

<!-- ‚úÖ Styles -->
<style>
  body {
    margin: 0;
    font-family: "Poppins", system-ui, sans-serif;
    background: linear-gradient(135deg, #3b82f6 0%, #9333ea 50%, #f43f5e 100%);
    background-size: 300% 300%;
    animation: wave 8s ease-in-out infinite;
    color: #111;
  }
  @keyframes wave {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
  }

  .dashboard-layout {
    display: flex;
    min-height: 100vh;
  }

  /* Sidebar */
  .sidebar {
    width: 240px;
    background: rgba(255, 255, 255, 0.15);
    backdrop-filter: blur(12px);
    padding: 1rem;
    border-right: 1px solid rgba(255,255,255,0.2);
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    position: fixed;
    left: 0;
    top: 0;
    bottom: 0;
    transition: transform 0.3s ease;
  }

  .brand h2 {
    font-weight: 700;
    font-size: 1.3rem;
    margin-bottom: 0.2rem;
    color: #fff;
  }
  .brand p {
    color: #e5e7eb;
    font-size: 0.9rem;
  }

  .nav-menu {
    display: flex;
    flex-direction: column;
    gap: 0.6rem;
    margin-top: 1rem;
  }

  .nav-item {
    text-decoration: none;
    padding: 0.6rem 0.8rem;
    border-radius: 8px;
    color: #fff;
    font-weight: 500;
    transition: background 0.25s ease, transform 0.15s ease;
  }

  .nav-item:hover {
    background: rgba(255, 255, 255, 0.2);
    transform: translateX(3px);
  }

  .nav-item.active {
    background: rgba(255, 255, 255, 0.35);
    color: #111;
    font-weight: 600;
  }

  .nav-item.logout {
    color: #fee2e2;
    margin-top: 2rem;
    border-top: 1px solid rgba(255,255,255,0.2);
    padding-top: 0.8rem;
  }
  .nav-item.logout:hover {
    background: rgba(239, 68, 68, 0.3);
  }

  /* Main */
  .main-content {
    flex: 1;
    margin-left: 240px;
    padding: 2rem;
    transition: margin-left 0.3s ease;
    min-height: 100vh;
  }
  .dark-theme.main-content {
    background: #111827;
    color: #f9fafb;
  }

  /* Mobile toggle */
  .menu-toggle {
    display: none;
    position: fixed;
    top: 1rem;
    left: 1rem;
    z-index: 10000;
    background: #fff;
    border: none;
    border-radius: 8px;
    padding: 0.6rem 0.8rem;
    font-size: 1.2rem;
    cursor: pointer;
    box-shadow: 0 2px 6px rgba(0,0,0,0.2);
  }

  /* Mobile responsiveness */
  @media (max-width: 768px) {
    .sidebar {
      transform: translateX(-100%);
      position: fixed;
      z-index: 9999;
    }
    .sidebar.open {
      transform: translateX(0);
    }
    .main-content {
      margin-left: 0;
      padding: 1rem;
    }
    .menu-toggle {
      display: block;
    }
  }
</style>

<!-- ‚úÖ Script -->
<script nonce="<%= nonce %>">
document.addEventListener("DOMContentLoaded", () => {
  const menuToggle = document.getElementById("menuToggle");
  const sidebar = document.querySelector(".sidebar");
  menuToggle.addEventListener("click", () => {
    sidebar.classList.toggle("open");
  });
});
</script>