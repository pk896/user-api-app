<section class="dashboard-home">
  <h1 class="page-title">üìù Add Demand</h1>

  <% if (error && error.length) { %>
    <div class="flash flash-error">‚ùå <%= error %></div>
  <% } %>
  <% if (success && success.length) { %>
    <div class="flash flash-success">‚úÖ <%= success %></div>
  <% } %>

  <form method="POST" action="/demands/add" class="form">
    <fieldset class="card">
      <legend>Requester</legend>
      <label>Business Name
        <input name="requesterBusinessName" required
               value="<%= typeof defaultBusinessName !== 'undefined' ? defaultBusinessName : '' %>"
               placeholder="e.g., Phakisi Global (Buyer)"/>
      </label>
      <label>Your Name
        <input name="requesterContactName" required placeholder="e.g., Phakisi Ngxongxela"/>
      </label>
      <label>Your Position
        <input name="requesterPosition" required placeholder="e.g., Procurement Manager"/>
      </label>
    </fieldset>

    <fieldset class="card">
      <legend>Demand Details</legend>
      <label>Type <input name="type" required placeholder="e.g., Electronics"/></label>
      <label>Product Name <input name="productName" required placeholder="e.g., 55&quot; 4K Smart TV"/></label>
      <label>Quantity <input name="quantity" type="number" min="1" value="1" required /></label>
    </fieldset>

    <fieldset class="card">
      <legend>Location</legend>
      <label>Country <input name="country" required placeholder="e.g., South Africa"/></label>
      <label>Province <input name="province" placeholder="e.g., Gauteng"/></label>
      <label>City <input name="city" placeholder="e.g., Johannesburg"/></label>
      <label>Town <input name="town" placeholder="e.g., Sandton"/></label>
    </fieldset>

    <fieldset class="card">
      <legend>Notes (optional)</legend>
      <label><textarea name="notes" rows="3" placeholder="Any specifications or delivery constraints..."></textarea></label>
    </fieldset>

    <div class="actions">
      <button class="btn btn-primary" type="submit">Submit Demand</button>
      <a class="btn btn-secondary" href="/demands/mine">Back to My Demands</a>
    </div>
  </form>
</section>

<style>
  .form { display:grid; gap:1rem; max-width:720px; margin:auto; }
  .card { border:1px solid #e5e7eb; border-radius:.6rem; padding:1rem; background:#fff; }
  legend { font-weight:600; padding:0 .25rem; }
  .form label { display:grid; gap:.35rem; }
  .form input, .form textarea { padding:.6rem; border:1px solid #d1d5db; border-radius:.45rem; }
  .actions { display:flex; gap:.6rem; justify-content:flex-end; }
  .btn { padding:.55rem .9rem; border-radius:.5rem; text-decoration:none; border:0; cursor:pointer; }
  .btn-primary { background:#2563eb; color:#fff; }
  .btn-secondary { background:#f3f4f6; color:#111; }
  .flash { margin:.5rem 0; padding:.6rem .8rem; border-radius:.4rem; }
  .flash-success { background:#ecfdf5; }
  .flash-error { background:#fef2f2; }
  body.dark-theme .card { background:#111827; border-color:#374151; }
  body.dark-theme .form input, body.dark-theme .form textarea { background:#111; color:#eee; border-color:#374151; }
</style>
