<section>
  <h1 class="page-title">ðŸ’³ My Payments</h1>

  <% if (!payments || payments.length === 0) { %>
    <p class="muted">No payments found.</p>
  <% } else { %>
    <table class="table">
      <thead>
        <tr><th>Order</th><th>Provider</th><th>Payment ID</th><th>Amount</th><th>Status</th><th>Date</th></tr>
      </thead>
      <tbody>
        <% payments.forEach(p => { %>
          <tr>
            <td data-label="Order">#<%= p.orderId.toString().slice(-6) %></td>
            <td data-label="Provider"><%= p.provider %></td>
            <td data-label="Payment ID"><%= p.id %></td>
            <td data-label="Amount"><%= p.amount.toFixed ? p.amount.toFixed(2) : p.amount %> <%= p.currency %></td>
            <td data-label="Status" class="status <%= (p.status || 'paid').toLowerCase() %>"><%= p.status || 'paid' %></td>
            <td data-label="Date"><%= new Date(p.createdAt).toLocaleString() %></td>
          </tr>
        <% }) %>
      </tbody>
    </table>
  <% } %>
</section>
