<!-- views/contact.ejs -->
<% const _nonce = (typeof nonce !== 'undefined' ? nonce : ''); %>

<div class="contact-page">
  <!-- üåà Hero Header -->
  <header class="contact-hero" aria-label="Contact page hero">
    <div class="hero-inner">
      <div class="hero-badge">
        <span class="badge-dot dot-purple"></span>
        <span>Unicoporate.com</span>
      </div>

      <h1 class="page-title">Get in Touch</h1>
      <p class="hero-subtitle">Connect with Unicoporate.com ‚Äì Where Innovation Meets Opportunity</p>

      <div class="hero-decoration" aria-hidden="true">
        <span class="decoration-dot blue"></span>
        <span class="decoration-dot purple"></span>
        <span class="decoration-dot green"></span>
      </div>
    </div>
  </header>

  <!-- üì¨ Main Contact Section -->
  <main class="contact-container">
    <!-- Flash Messages -->
    <div class="flash-container" aria-live="polite" aria-atomic="true">
      <% (success || []).forEach(msg => { %>
        <div class="flash flash-success visible" role="status" tabindex="0">
          <svg class="flash-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
            <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
            <polyline points="22 4 12 14.01 9 11.01"></polyline>
          </svg>
          <span><%= msg %></span>
        </div>
      <% }) %>

      <% (error || []).forEach(msg => { %>
        <div class="flash flash-error visible" role="alert" tabindex="0">
          <svg class="flash-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
            <circle cx="12" cy="12" r="10"></circle>
            <line x1="15" y1="9" x2="9" y2="15"></line>
            <line x1="9" y1="9" x2="15" y2="15"></line>
          </svg>
          <span><%= msg %></span>
        </div>
      <% }) %>
    </div>

    <div class="contact-layout">
      <!-- Left: Contact Form -->
      <section class="contact-form-section" aria-label="Send us a message">
        <div class="section-header">
          <h2 class="section-title">
            <span class="title-icon">
              <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
                <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path>
                <polyline points="22,6 12,13 2,6"></polyline>
              </svg>
            </span>
            Send us a Message
          </h2>
          <p class="section-subtitle">Fill out the form below and we'll get back to you within 24 hours</p>
        </div>

        <form action="/contact" method="POST" class="contact-form" novalidate>
          <!-- Honeypot field -->
          <input type="text" name="hp_field" tabindex="-1" autocomplete="off" class="hp-field" aria-hidden="true" />

          <div class="form-grid">
            <div class="form-group">
              <label for="name" class="form-label">
                <span class="label-text">Your Name</span>
                <span class="required-mark">*</span>
              </label>
              <div class="input-wrapper">
                <svg class="input-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
                  <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                  <circle cx="12" cy="7" r="4"></circle>
                </svg>
                <input
                  type="text"
                  id="name"
                  name="name"
                  placeholder="Enter your full name"
                  required
                  class="form-input"
                  autocomplete="name"
                />
              </div>
            </div>

            <div class="form-group">
              <label for="email" class="form-label">
                <span class="label-text">Your Email</span>
                <span class="required-mark">*</span>
              </label>
              <div class="input-wrapper">
                <svg class="input-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
                  <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path>
                  <polyline points="22,6 12,13 2,6"></polyline>
                </svg>
                <input
                  type="email"
                  id="email"
                  name="email"
                  placeholder="Enter your email address"
                  required
                  class="form-input"
                  autocomplete="email"
                  inputmode="email"
                />
              </div>
            </div>
          </div>

          <div class="form-group">
            <label for="message" class="form-label">
              <span class="label-text">Your Message</span>
              <span class="required-mark">*</span>
            </label>
            <div class="textarea-wrapper">
              <svg class="textarea-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
                <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
              </svg>
              <textarea
                id="message"
                name="message"
                rows="6"
                placeholder="Tell us about your inquiry, project, or partnership opportunity..."
                required
                class="form-textarea"
              ></textarea>
              <div class="char-counter" aria-live="polite">0/2000</div>
            </div>
          </div>

          <div class="form-actions">
            <button type="submit" class="btn btn-primary">
              <svg class="btn-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
                <line x1="22" y1="2" x2="11" y2="13"></line>
                <polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>
              </svg>
              Send Message
            </button>

            <a href="/sales" class="btn btn-secondary">
              <svg class="btn-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
                <path d="M19 12H5M12 19l-7-7 7-7"></path>
              </svg>
              Back to Shop
            </a>
          </div>

          <div class="helper-row" aria-label="Privacy note">
            <span class="helper-pill pill-purple">Secure</span>
            <span class="helper-text">We only use your details to reply to your message.</span>
          </div>
        </form>
      </section>

      <!-- Right: Contact Information -->
      <aside class="contact-info-section" aria-label="Our details">
        <div class="info-header">
          <h2 class="section-title">
            <span class="title-icon icon-green">
              <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
                <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>
                <circle cx="12" cy="10" r="3"></circle>
              </svg>
            </span>
            Our Details
          </h2>
          <p class="section-subtitle">Reach out through any of these channels</p>
        </div>

        <div class="info-cards">
          <div class="info-card card-blue">
            <div class="card-icon icon-blue" aria-hidden="true">
              <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                <polyline points="9 22 9 12 15 12 15 22"></polyline>
              </svg>
            </div>
            <div class="card-content">
              <h3 class="card-title">üìç Headquarters</h3>
              <p class="card-text">
                <strong>Unicoporate.com</strong><br />
                Johannesburg, South Africa<br />
                Serving Africa and the world üåç
              </p>
            </div>
          </div>

          <div class="info-card card-purple">
            <div class="card-icon icon-purple" aria-hidden="true">
              <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path>
                <polyline points="22,6 12,13 2,6"></polyline>
              </svg>
            </div>
            <div class="card-content">
              <h3 class="card-title">‚úâÔ∏è Official Contact</h3>
              <p class="card-text">
                <a href="mailto:info@unicoporate.com" class="contact-link">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
                    <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path>
                    <polyline points="22,6 12,13 2,6"></polyline>
                  </svg>
                  info@unicoporate.com
                </a><br />
                <a href="mailto:support@unicoporate.com" class="contact-link">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
                    <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path>
                    <path d="M13.73 21a2 2 0 0 1-3.46 0"></path>
                  </svg>
                  support@unicoporate.com
                </a>
              </p>
            </div>
          </div>

          <div class="info-card card-green">
            <div class="card-icon icon-green" aria-hidden="true">
              <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                <circle cx="12" cy="7" r="4"></circle>
              </svg>
            </div>
            <div class="card-content">
              <h3 class="card-title">üíº Founder</h3>
              <p class="card-text">
                <strong>Phakisi Lighten Moteane</strong><br />
                Founder &amp; Lead Developer<br />
                <a href="mailto:phakisingxongxela@gmail.com" class="contact-link">üìß phakisingxongxela@gmail.com</a><br />
                <a href="https://www.facebook.com/profile.php?id=100083397021296" target="_blank" class="social-link" rel="noopener noreferrer">
                  üìò Facebook Profile
                </a>
              </p>
            </div>
          </div>

          <div class="info-card card-blue">
            <div class="card-icon icon-blue" aria-hidden="true">
              <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                <circle cx="8.5" cy="7" r="4"></circle>
                <line x1="20" y1="8" x2="20" y2="14"></line>
                <line x1="23" y1="11" x2="17" y2="11"></line>
              </svg>
            </div>
            <div class="card-content">
              <h3 class="card-title">ü§ù Co-Founder</h3>
              <p class="card-text">
                <strong>Moteane Kabelo</strong><br />
                Co-Founder &amp; Business Strategist<br />
                <a href="mailto:moteanekabelo37@gmail.com" class="contact-link">üìß moteanekabelo37@gmail.com</a><br />
                <a href="https://www.facebook.com/profile.php?id=100094603932435" target="_blank" class="social-link" rel="noopener noreferrer">
                  üìò Facebook Profile
                </a>
              </p>
            </div>
          </div>
        </div>

        <div class="social-section">
          <h3 class="social-title">üåê Connect With Us</h3>
          <p class="social-subtitle">Follow us for updates, projects, and opportunities</p>

          <div class="social-icons" role="list">
            <a href="https://www.facebook.com/profile.php?id=100083397021296" target="_blank" class="social-icon facebook" title="Facebook" rel="noopener noreferrer" role="listitem">
              <svg width="22" height="22" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
                <path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"></path>
              </svg>
              <span class="tooltip">Facebook</span>
            </a>

            <a href="mailto:info@unicoporate.com" class="social-icon email" title="Email" role="listitem">
              <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
                <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path>
                <polyline points="22,6 12,13 2,6"></polyline>
              </svg>
              <span class="tooltip">Email</span>
            </a>

            <a href="https://unicoporate.com" class="social-icon website" title="Website" role="listitem">
              <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
                <circle cx="12" cy="12" r="10"></circle>
                <line x1="2" y1="12" x2="22" y2="12"></line>
                <path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path>
              </svg>
              <span class="tooltip">Website</span>
            </a>

            <a href="#" class="social-icon youtube" title="YouTube" role="listitem">
              <svg width="22" height="22" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
                <path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"></path>
              </svg>
              <span class="tooltip">YouTube</span>
            </a>
          </div>

          <div class="mini-footer">
            <span class="mini-note">¬© <%= new Date().getFullYear() %> Unicoporate.com</span>
            <span class="mini-dots" aria-hidden="true">
              <i class="dot blue"></i>
              <i class="dot purple"></i>
              <i class="dot green"></i>
            </span>
          </div>
        </div>
      </aside>
    </div>
  </main>
</div>

<style nonce="<%= _nonce %>">
/* ‚úÖ Scoped styles: do NOT affect layout.ejs/navbar/footer */
.contact-page{
  --blue:#2563EB;
  --purple:#7C3AED;        /* dominant */
  --green:#22C55E;
  --black:#0F172A;

  --bg:#f8fafc;
  --card:#ffffff;
  --muted:#64748b;
  --muted2:#475569;
  --line:#e2e8f0;

  --shadow: 0 10px 20px rgba(15,23,42,0.08);
  --shadow2: 0 16px 30px rgba(15,23,42,0.12);
  --r12:12px;
  --r16:16px;
  --r20:20px;

  color: var(--black);
}

.contact-page *{ box-sizing:border-box; }
.contact-page a{ color:inherit; }
.contact-page .sr-only{
  position:absolute; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); border:0;
}

/* HERO (mobile-first) */
.contact-hero{
  background: linear-gradient(135deg, rgba(124,58,237,1) 0%, rgba(37,99,235,1) 100%);
  padding: 1.75rem 1rem 1.5rem;
  position:relative;
  overflow:hidden;
  border-bottom: 3px solid rgba(34,197,94,0.55);
}
.contact-hero::before{
  content:'';
  position:absolute; inset:0;
  background:
    radial-gradient(circle at 20% 10%, rgba(255,255,255,0.18), transparent 45%),
    radial-gradient(circle at 90% 30%, rgba(34,197,94,0.20), transparent 45%),
    radial-gradient(circle at 60% 110%, rgba(255,255,255,0.14), transparent 55%);
  pointer-events:none;
}
.hero-inner{
  position:relative;
  max-width: 1100px;
  margin: 0 auto;
  text-align:center;
}
.hero-badge{
  display:inline-flex;
  align-items:center;
  gap:.5rem;
  padding:.45rem .75rem;
  border-radius: 999px;
  background: rgba(15,23,42,0.18);
  border: 1px solid rgba(255,255,255,0.18);
  color: rgba(255,255,255,0.92);
  font-weight: 700;
  font-size: .85rem;
}
.badge-dot{ width:10px; height:10px; border-radius:50%; display:inline-block; }
.dot-purple{ background: rgba(237,233,254,1); }

.page-title{
  margin:.85rem 0 .4rem;
  font-size: 1.75rem; /* compact for Hisense U50 Lite */
  line-height: 1.15;
  font-weight: 900;
  color:#fff;
  letter-spacing: -0.02em;
}
.hero-subtitle{
  margin:0 auto;
  max-width: 46ch;
  font-size: 0.98rem;
  color: rgba(255,255,255,0.92);
}
.hero-decoration{
  display:flex;
  justify-content:center;
  gap:.5rem;
  margin-top: 1rem;
}
.decoration-dot{
  width: 10px;
  height: 10px;
  border-radius: 999px;
  opacity: .95;
  animation: contactFloat 3s ease-in-out infinite;
}
.decoration-dot.blue{ background: rgba(219,234,254,1); }
.decoration-dot.purple{ background: rgba(237,233,254,1); animation-delay:.2s; }
.decoration-dot.green{ background: rgba(220,252,231,1); animation-delay:.4s; }

/* MAIN */
.contact-container{
  max-width: 1100px;
  margin: 0 auto;
  padding: 1rem;
}

/* FLASH */
.flash-container{
  max-width: 760px;
  margin: 0 auto 1rem;
}
.flash{
  display:flex;
  align-items:flex-start;
  gap:.65rem;
  padding: .9rem 1rem;
  border-radius: var(--r16);
  box-shadow: 0 6px 16px rgba(15,23,42,0.06);
  border: 1px solid var(--line);
  background: #fff;
  cursor: pointer;
  transition: transform .15s ease, opacity .25s ease;
}
.flash:active{ transform: scale(0.99); }
.flash-icon{ margin-top: .1rem; flex-shrink:0; }
.flash-success{
  border-left: 4px solid var(--green);
  background: linear-gradient(135deg, rgba(220,252,231,1), rgba(255,255,255,1));
  color: #166534;
}
.flash-error{
  border-left: 4px solid #ef4444;
  background: linear-gradient(135deg, rgba(254,226,226,1), rgba(255,255,255,1));
  color: #991b1b;
}
.flash.hiding{ opacity:0; transform: translateX(18px); }

/* LAYOUT (mobile-first = stacked) */
.contact-layout{
  display:grid;
  grid-template-columns: 1fr;
  gap: 1rem;
  margin-top: 1rem;
}

/* CARDS */
.contact-form-section,
.contact-info-section{
  background: var(--card);
  border-radius: var(--r20);
  border: 1px solid var(--line);
  box-shadow: var(--shadow);
  padding: 1rem;
  position: relative;
  overflow:hidden;
}
.contact-form-section::before{
  content:'';
  position:absolute; inset:0;
  background: linear-gradient(180deg, rgba(124,58,237,0.10), transparent 42%);
  pointer-events:none;
}
.contact-info-section::before{
  content:'';
  position:absolute; inset:0;
  background: linear-gradient(180deg, rgba(37,99,235,0.10), transparent 45%);
  pointer-events:none;
}
.section-header, .info-header{ position:relative; z-index:1; margin-bottom: 1rem; }

.section-title{
  display:flex;
  align-items:center;
  gap:.6rem;
  font-size: 1.15rem;
  font-weight: 900;
  letter-spacing: -0.01em;
  color: var(--black);
  margin:0 0 .35rem;
}
.title-icon{
  width: 36px;
  height: 36px;
  border-radius: 12px;
  display:flex;
  align-items:center;
  justify-content:center;
  background: rgba(124,58,237,0.12);
  color: var(--purple);
  border: 1px solid rgba(124,58,237,0.20);
}
.title-icon.icon-green{
  background: rgba(34,197,94,0.12);
  color: var(--green);
  border-color: rgba(34,197,94,0.20);
}
.section-subtitle{
  color: var(--muted);
  font-size: .92rem;
  margin:0;
}

/* FORM */
.hp-field{ position:absolute; left:-9999px; }

.form-grid{
  display:grid;
  grid-template-columns: 1fr;
  gap: .9rem;
}

.form-group{ margin-top: .9rem; }
.form-label{
  display:flex;
  align-items:center;
  justify-content: space-between;
  gap: .5rem;
  margin-bottom: .45rem;
  font-weight: 800;
  color: #334155;
}
.label-text{ font-size: .95rem; }
.required-mark{ color: #ef4444; font-weight: 900; }

.input-wrapper,
.textarea-wrapper{ position:relative; }

.input-icon,
.textarea-icon{
  position:absolute;
  left: .9rem;
  top: 50%;
  transform: translateY(-50%);
  color: #94a3b8;
  pointer-events:none;
}
.textarea-icon{
  top: 1.05rem;
  transform: none;
}

.form-input,
.form-textarea{
  width:100%;
  border: 2px solid var(--line);
  background: #fff;
  color: var(--black);
  border-radius: var(--r16);
  font-size: 1rem;
  padding: .85rem 1rem .85rem 2.85rem;
  transition: border-color .15s ease, box-shadow .15s ease, transform .12s ease;
}
.form-textarea{
  padding: .85rem 1rem .85rem 2.85rem;
  resize: vertical;
  min-height: 140px;
}

.form-input:focus,
.form-textarea:focus{
  outline:none;
  border-color: var(--purple);
  box-shadow: 0 0 0 4px rgba(124,58,237,0.14);
}
.form-input:hover,
.form-textarea:hover{
  border-color: rgba(124,58,237,0.35);
}
.char-counter{
  text-align:right;
  font-size: .78rem;
  color: #94a3b8;
  margin-top: .25rem;
}

/* ACTIONS */
.form-actions{
  display:flex;
  flex-direction: column;
  gap: .75rem;
  margin-top: 1rem;
}
.btn{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  gap:.55rem;
  width:100%;
  padding: .9rem 1rem;
  border-radius: 16px;
  font-weight: 900;
  font-size: 1rem;
  text-decoration:none;
  border: none;
  cursor:pointer;
  transition: transform .12s ease, box-shadow .2s ease, background .2s ease, border-color .2s ease;
}
.btn:active{ transform: scale(0.99); }
.btn-primary{
  background: linear-gradient(135deg, var(--purple) 0%, #5b21b6 100%);
  color:#fff;
  box-shadow: 0 10px 18px rgba(124,58,237,0.22);
}
.btn-primary:hover{ box-shadow: var(--shadow2); }
.btn-secondary{
  background: #fff;
  color: #0f172a;
  border: 2px solid rgba(37,99,235,0.22);
}
.btn-secondary:hover{
  border-color: rgba(124,58,237,0.35);
  box-shadow: 0 10px 18px rgba(15,23,42,0.10);
}

.helper-row{
  margin-top: .9rem;
  display:flex;
  gap:.6rem;
  align-items:center;
  flex-wrap: wrap;
  position: relative;
  z-index:1;
}
.helper-pill{
  display:inline-flex;
  align-items:center;
  gap:.35rem;
  padding:.35rem .6rem;
  border-radius: 999px;
  font-weight: 900;
  font-size: .8rem;
  border: 1px solid;
}
.pill-purple{
  background: rgba(124,58,237,0.10);
  border-color: rgba(124,58,237,0.22);
  color: var(--purple);
}
.helper-text{ color: var(--muted); font-size: .9rem; }

/* INFO CARDS (different visible colors) */
.info-cards{
  position:relative; z-index:1;
  display:flex;
  flex-direction: column;
  gap: .85rem;
  margin-top: .75rem;
}
.info-card{
  display:flex;
  gap: .85rem;
  align-items:flex-start;
  padding: .95rem;
  border-radius: var(--r20);
  border: 1px solid var(--line);
  background: linear-gradient(180deg, rgba(248,250,252,1), rgba(255,255,255,1));
  transition: transform .12s ease, box-shadow .2s ease, border-color .2s ease;
}
.info-card:hover{
  transform: translateY(-2px);
  box-shadow: 0 12px 22px rgba(15,23,42,0.10);
}
.card-icon{
  flex-shrink:0;
  width: 44px;
  height: 44px;
  border-radius: 14px;
  display:flex;
  align-items:center;
  justify-content:center;
  background: #fff;
  border: 1px solid var(--line);
  color: var(--black);
}
.card-title{
  margin:0 0 .35rem;
  font-size: 1rem;
  font-weight: 900;
  color: var(--black);
}
.card-text{
  margin:0;
  color: var(--muted2);
  font-size: .93rem;
  line-height: 1.5;
}

/* Color variants per card */
.card-blue{ border-left: 4px solid var(--blue); }
.card-purple{ border-left: 4px solid var(--purple); }
.card-green{ border-left: 4px solid var(--green); }

.icon-blue{ color: var(--blue); background: rgba(37,99,235,0.10); border-color: rgba(37,99,235,0.18); }
.icon-purple{ color: var(--purple); background: rgba(124,58,237,0.10); border-color: rgba(124,58,237,0.18); }
.icon-green{ color: var(--green); background: rgba(34,197,94,0.10); border-color: rgba(34,197,94,0.18); }

.contact-link,
.social-link{
  color: var(--blue);
  font-weight: 800;
  text-decoration:none;
}
.contact-link:hover,
.social-link:hover{
  text-decoration: underline;
  color: #1d4ed8;
}

/* SOCIAL */
.social-section{
  position:relative; z-index:1;
  margin-top: 1rem;
  padding: 1rem;
  border-radius: var(--r20);
  border: 1px solid var(--line);
  background: linear-gradient(135deg, rgba(124,58,237,0.10), rgba(37,99,235,0.08));
}
.social-title{
  margin:0 0 .25rem;
  font-size: 1.05rem;
  font-weight: 900;
  color: var(--black);
}
.social-subtitle{
  margin:0 0 .9rem;
  color: var(--muted);
  font-size: .92rem;
}
.social-icons{
  display:flex;
  flex-wrap: wrap;
  gap: .65rem;
  justify-content: flex-start;
}
.social-icon{
  position: relative;
  width: 50px;
  height: 50px;
  border-radius: 16px;
  display:flex;
  align-items:center;
  justify-content:center;
  color:#fff;
  text-decoration:none;
  box-shadow: 0 10px 18px rgba(15,23,42,0.12);
  transition: transform .12s ease, box-shadow .2s ease;
}
.social-icon:hover{ transform: translateY(-2px) scale(1.03); box-shadow: 0 14px 24px rgba(15,23,42,0.16); }
.social-icon.facebook{ background: linear-gradient(135deg, #1877F2, #0d65d9); }
.social-icon.email{ background: linear-gradient(135deg, var(--blue), #1d4ed8); }
.social-icon.website{ background: linear-gradient(135deg, var(--purple), #5b21b6); }
.social-icon.youtube{ background: linear-gradient(135deg, #FF0000, #b91c1c); }

.tooltip{
  position:absolute;
  bottom: -2.1rem;
  left: 50%;
  transform: translateX(-50%);
  background: rgba(15,23,42,0.95);
  color:#fff;
  padding: .25rem .55rem;
  border-radius: 999px;
  font-size: .72rem;
  font-weight: 800;
  white-space: nowrap;
  opacity:0;
  visibility:hidden;
  transition: opacity .15s ease, transform .15s ease;
}
.social-icon:hover .tooltip{
  opacity:1;
  visibility:visible;
  transform: translateX(-50%) translateY(-2px);
}

.mini-footer{
  margin-top: 1rem;
  display:flex;
  align-items:center;
  justify-content: space-between;
  gap: .75rem;
  flex-wrap: wrap;
  border-top: 1px dashed rgba(124,58,237,0.35);
  padding-top: .75rem;
}
.mini-note{
  color: rgba(15,23,42,0.80);
  font-size: .9rem;
  font-weight: 800;
}
.mini-dots{ display:inline-flex; gap:.35rem; align-items:center; }
.mini-dots .dot{
  width: 8px; height: 8px; border-radius: 50%;
  display:inline-block;
}
.mini-dots .dot.blue{ background: var(--blue); }
.mini-dots .dot.purple{ background: var(--purple); }
.mini-dots .dot.green{ background: var(--green); }

/* BREAKPOINTS */
@media (min-width: 520px){
  .contact-form-section, .contact-info-section{ padding: 1.25rem; }
  .page-title{ font-size: 2rem; }
  .form-actions{ flex-direction: row; }
  .btn{ width: auto; flex: 1; }
}
@media (min-width: 920px){
  .contact-container{ padding: 1.25rem 1rem 2rem; }
  .contact-layout{ grid-template-columns: 1fr 1fr; gap: 1.25rem; align-items:start; }
  .form-grid{ grid-template-columns: 1fr 1fr; }
  .contact-hero{ padding: 2.25rem 1rem 1.75rem; }
  .page-title{ font-size: 2.35rem; }
}

/* Hisense U50 Lite extra-tight */
@media (max-width: 360px){
  .contact-container{ padding: .85rem; }
  .contact-form-section, .contact-info-section{ padding: .9rem; }
  .page-title{ font-size: 1.6rem; }
  .hero-subtitle{ font-size: .95rem; }
  .form-input, .form-textarea{ padding-left: 2.65rem; }
  .social-icon{ width: 46px; height: 46px; border-radius: 14px; }
}

/* Animations */
@keyframes contactFloat{
  0%,100%{ transform: translateY(0); }
  50%{ transform: translateY(-8px); }
}

/* Dark mode (scoped) */
@media (prefers-color-scheme: dark){
  .contact-page{
    --bg:#0b1220;
    --card: rgba(15,23,42,0.88);
    --line: rgba(148,163,184,0.18);
    --muted:#a3b4c7;
    --muted2:#c2d1e3;
    color: #e5e7eb;
  }

  .contact-form-section,
  .contact-info-section{
    background: var(--card);
    box-shadow: 0 18px 30px rgba(0,0,0,0.28);
  }

  .flash{ background: rgba(15,23,42,0.88); border-color: rgba(148,163,184,0.18); }
  .info-card{ background: rgba(15,23,42,0.72); border-color: rgba(148,163,184,0.18); }
  .card-icon{ background: rgba(15,23,42,0.70); border-color: rgba(148,163,184,0.18); }
  .form-input, .form-textarea{
    background: rgba(15,23,42,0.55);
    border-color: rgba(148,163,184,0.18);
    color: #e5e7eb;
  }
  .btn-secondary{
    background: rgba(15,23,42,0.45);
    color: #e5e7eb;
    border-color: rgba(37,99,235,0.30);
  }
  .mini-note{ color: rgba(226,232,240,0.82); }
}
</style>

<script nonce="<%= _nonce %>">
document.addEventListener("DOMContentLoaded", () => {
  // Form character counter
  const textarea = document.getElementById('message');
  const charCounter = document.querySelector('.char-counter');

  if (textarea && charCounter) {
    function updateCounter() {
      const length = textarea.value.length;
      charCounter.textContent = `${length}/2000`;

      if (length > 1800) {
        charCounter.style.color = '#ef4444';
      } else if (length > 1500) {
        charCounter.style.color = '#f59e0b';
      } else {
        charCounter.style.color = '#94a3b8';
      }
    }
    textarea.addEventListener('input', updateCounter);
    updateCounter();
  }

  // Form validation
  const form = document.querySelector('.contact-form');
  if (form) {
    form.addEventListener('submit', (e) => {
      const name = form.querySelector('#name');
      const email = form.querySelector('#email');
      const message = form.querySelector('#message');
      let isValid = true;

      // Reset previous error states
      [name, email, message].forEach(input => {
        input.style.borderColor = '';
        const error = input.parentElement && input.parentElement.querySelector('.error-message');
        if (error) error.remove();
      });

      // Name validation
      if (!name.value.trim()) {
        showError(name, 'Please enter your name');
        isValid = false;
      }

      // Email validation
      const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      if (!email.value.trim() || !emailRegex.test(email.value)) {
        showError(email, 'Please enter a valid email address');
        isValid = false;
      }

      // Message validation
      if (!message.value.trim()) {
        showError(message, 'Please enter your message');
        isValid = false;
      } else if (message.value.length > 2000) {
        showError(message, 'Message must be less than 2000 characters');
        isValid = false;
      }

      if (!isValid) {
        e.preventDefault();
      }
    });
  }

  function showError(input, message) {
    input.style.borderColor = '#ef4444';

    const error = document.createElement('div');
    error.className = 'error-message';
    error.style.color = '#ef4444';
    error.style.fontSize = '0.875rem';
    error.style.marginTop = '0.35rem';
    error.textContent = message;

    // input is inside wrapper -> append below wrapper
    const parent = input.parentElement;
    if (parent) parent.appendChild(error);
  }

  // Flash message handling
  const flashes = document.querySelectorAll('.flash');
  flashes.forEach(flash => {
    // Auto-dismiss after 6 seconds
    setTimeout(() => {
      flash.classList.add('hiding');
      setTimeout(() => {
        if (flash.parentElement) flash.remove();
      }, 300);
    }, 6000);

    // Manual dismiss on click/Enter
    flash.addEventListener('click', () => {
      flash.classList.add('hiding');
      setTimeout(() => {
        if (flash.parentElement) flash.remove();
      }, 300);
    });

    flash.addEventListener('keydown', (e) => {
      if (e.key === 'Enter' || e.key === ' ') {
        e.preventDefault();
        flash.click();
      }
    });
  });

  // Check for redirect parameter
  const params = new URLSearchParams(window.location.search);
  const sent = params.get('sent') === '1';
  const next = params.get('next');

  if (sent && next) {
    setTimeout(() => {
      const redirectFlash = document.createElement('div');
      redirectFlash.className = 'flash flash-success visible';
      redirectFlash.innerHTML = `
        <svg class="flash-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
          <circle cx="12" cy="12" r="10"></circle>
          <polyline points="12 6 12 12 16 14"></polyline>
        </svg>
        <span>Redirecting you in 3 seconds...</span>
      `;

      const flashContainer = document.querySelector('.flash-container');
      if (flashContainer) flashContainer.appendChild(redirectFlash);

      setTimeout(() => {
        window.location.href = next;
      }, 3000);
    }, 2000);
  }
});
</script>
