<!-- views/admin-dashboard.ejs -->
<div class="admin-dashboard">
  <!-- Dashboard Header -->
  <div class="dashboard-header">
    <div class="header-main">
      <div>
        <h1 class="dashboard-title">
          <span class="title-icon" style="background: #2563EB;">üõ°Ô∏è</span>
          Admin Dashboard
        </h1>
        <p class="dashboard-subtitle">Platform management & business oversight</p>
      </div>
      <form method="POST" action="/admin/logout" class="logout-form">
        <button type="submit" class="logout-btn">
          <span class="logout-icon">‚Üí</span>
          Logout
        </button>
      </form>
    </div>
    
    <!-- Quick Stats -->
    <div class="quick-stats">
      <div class="stat-item">
        <div class="stat-icon" style="background: rgba(37, 99, 235, 0.1); color: #2563EB; border-color: #2563EB;">üìä</div>
        <div class="stat-info">
          <span class="stat-label">Today</span>
          <span class="stat-value">Active</span>
        </div>
      </div>
      <div class="stat-item">
        <div class="stat-icon" style="background: rgba(124, 58, 237, 0.1); color: #7C3AED; border-color: #7C3AED;">‚è≥</div>
        <div class="stat-info">
          <span class="stat-label">Pending</span>
          <span class="stat-value" id="pendingCount">0</span>
        </div>
      </div>
      <div class="stat-item">
        <div class="stat-icon" style="background: rgba(34, 197, 94, 0.1); color: #22C55E; border-color: #22C55E;">üìà</div>
        <div class="stat-info">
          <span class="stat-label">Growth</span>
          <span class="stat-value">+12%</span>
        </div>
      </div>
      <div class="stat-item">
        <div class="stat-icon" style="background: rgba(15, 23, 42, 0.1); color: #0F172A; border-color: #0F172A;">üí∞</div>
        <div class="stat-info">
          <span class="stat-label">Revenue</span>
          <span class="stat-value">$--</span>
        </div>
      </div>
    </div>
  </div>

  <!-- Flash Messages -->
  <% if (success && success.length) { %>
    <div class="alert-message" style="background: rgba(34, 197, 94, 0.1); color: #22C55E; border-color: rgba(34, 197, 94, 0.2);">
      <div class="alert-icon" style="background: #22C55E;">‚úì</div>
      <div class="alert-text"><%= success %></div>
    </div>
  <% } %>
  
  <% if (error && error.length) { %>
    <div class="alert-message" style="background: rgba(239, 68, 68, 0.1); color: #EF4444; border-color: rgba(239, 68, 68, 0.2);">
      <div class="alert-icon" style="background: #EF4444;">!</div>
      <div class="alert-text"><%= error %></div>
    </div>
  <% } %>
  
  <% if (info && info.length) { %>
    <div class="alert-message" style="background: rgba(37, 99, 235, 0.1); color: #2563EB; border-color: rgba(37, 99, 235, 0.2);">
      <div class="alert-icon" style="background: #2563EB;">i</div>
      <div class="alert-text"><%= info %></div>
    </div>
  <% } %>
  
  <% if (warning && warning.length) { %>
    <div class="alert-message" style="background: rgba(245, 158, 11, 0.1); color: #F59E0B; border-color: rgba(245, 158, 11, 0.2);">
      <div class="alert-icon" style="background: #F59E0B;">‚ö†</div>
      <div class="alert-text"><%= warning %></div>
    </div>
  <% } %>

  <!-- Main Admin Cards -->
  <div class="admin-cards-grid">
    <!-- Business Verification - BLUE -->
    <a href="/admin/business-verifications" class="admin-card" style="border-top: 4px solid #2563EB;">
      <div class="card-header">
        <div class="card-icon-wrapper">
          <div class="card-icon" style="background: #2563EB;">
            <svg viewBox="0 0 24 24" fill="white">
              <path d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"/>
            </svg>
          </div>
          <span class="card-badge" style="background: #2563EB;"><%= pendingBusinessVerifications || 0 %></span>
        </div>
        <h3 class="card-title">Business Verification</h3>
      </div>
      <p class="card-description">Verify business registration documents</p>
      <div class="card-footer">
        <span class="card-action" style="color: #2563EB;">Manage queue ‚Üí</span>
      </div>
    </a>

    <!-- Orders Management - PURPLE -->
    <a href="/admin/orders" class="admin-card" style="border-top: 4px solid #7C3AED;">
      <div class="card-header">
        <div class="card-icon-wrapper">
          <div class="card-icon" style="background: #7C3AED;">
            <svg viewBox="0 0 24 24" fill="white">
              <path d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"/>
            </svg>
          </div>
          <span class="card-badge" style="background: #7C3AED;"><%= pendingOrders || 0 %></span>
        </div>
        <h3 class="card-title">Orders Management</h3>
      </div>
      <p class="card-description">Process refunds, cancellations, audits</p>
      <div class="card-footer">
        <span class="card-action" style="color: #7C3AED;">View orders ‚Üí</span>
      </div>
    </a>

    <!-- Delivery Options - GREEN -->
    <a href="/admin/delivery-options" class="admin-card" style="border-top: 4px solid #22C55E;">
      <div class="card-header">
        <div class="card-icon-wrapper">
          <div class="card-icon" style="background: #22C55E;">
            <svg viewBox="0 0 24 24" fill="white">
              <path d="M9 17a2 2 0 11-4 0 2 2 0 014 0zM19 17a2 2 0 11-4 0 2 2 0 014 0z"/>
              <path d="M13 16V6a1 1 0 00-1-1H4a1 1 0 00-1 1v10a1 1 0 001 1h1m8-1a1 1 0 01-1 1H9m4-1V8a1 1 0 011-1h2.586a1 1 0 01.707.293l3.414 3.414a1 1 0 01.293.707V16a1 1 0 01-1 1h-1m-6-1a1 1 0 001 1h1M5 17a2 2 0 104 0m-4 0a2 2 0 114 0m6 0a2 2 0 104 0m-4 0a2 2 0 114 0"/>
            </svg>
          </div>
        </div>
        <h3 class="card-title">Delivery Options</h3>
      </div>
      <p class="card-description">Configure shipping & delivery rules</p>
      <div class="card-footer">
        <span class="card-action" style="color: #22C55E;">Configure ‚Üí</span>
      </div>
    </a>

    <!-- Payments & Payouts - BLACK -->
    <a href="/admin/payouts" class="admin-card" style="border-top: 4px solid #0F172A; opacity: 0.9;">
      <div class="card-header">
        <div class="card-icon-wrapper">
          <div class="card-icon" style="background: #0F172A;">
            <svg viewBox="0 0 24 24" fill="white">
              <path d="M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"/>
            </svg>
          </div>
          <span class="card-badge" style="background: #64748B;">Pay!</span>
        </div>
        <h3 class="card-title">Payments & Payouts</h3>
      </div>
      <p class="card-description">Monitor transactions & process payouts</p>
      <div class="card-footer">
        <span class="card-action" style="color: #94A3B8;">Seller payouts ‚Üí</span>
      </div>
    </a>
  </div>

  <!-- Quick Actions -->
  <div class="quick-actions-section">
    <h3 class="section-title">Quick Actions</h3>
    <div class="quick-actions-grid">
      <button class="quick-action-btn" onclick="window.location.href='/admin/business-verifications'" style="border-color: #2563EB; color: #2563EB;">
        <span class="action-icon">‚úì</span>
        <span class="action-text">Verify Business</span>
      </button>
      <button class="quick-action-btn" onclick="window.location.href='/admin/orders'" style="border-color: #7C3AED; color: #7C3AED;">
        <span class="action-icon">üì¶</span>
        <span class="action-text">View Orders</span>
      </button>
      <button class="quick-action-btn" onclick="window.location.href='/admin/delivery-options'" style="border-color: #22C55E; color: #22C55E;">
        <span class="action-icon">‚öôÔ∏è</span>
        <span class="action-text">Settings</span>
      </button>
      <button class="quick-action-btn" style="border-color: #0F172A; color: #0F172A;">
        <span class="action-icon">üìä</span>
        <span class="action-text">Export Data</span>
      </button>
    </div>
  </div>

  <!-- Recent Activity -->
  <div class="recent-activity">
    <h3 class="section-title">Recent Activity</h3>
    <div class="activity-list">
      <div class="activity-item">
        <div class="activity-icon" style="background: rgba(37, 99, 235, 0.1); color: #2563EB;">‚úì</div>
        <div class="activity-content">
          <div class="activity-title">Business Verified</div>
          <div class="activity-desc">"Tech Innovators Inc." approved</div>
          <div class="activity-time">Just now</div>
        </div>
      </div>
      <div class="activity-item">
        <div class="activity-icon" style="background: rgba(124, 58, 237, 0.1); color: #7C3AED;">üì¶</div>
        <div class="activity-content">
          <div class="activity-title">Order Processed</div>
          <div class="activity-desc">Order #ORD-7890 completed</div>
          <div class="activity-time">5 min ago</div>
        </div>
      </div>
      <div class="activity-item">
        <div class="activity-icon" style="background: rgba(34, 197, 94, 0.1); color: #22C55E;">üöö</div>
        <div class="activity-content">
          <div class="activity-title">Delivery Updated</div>
          <div class="activity-desc">Express shipping added</div>
          <div class="activity-time">1 hour ago</div>
        </div>
      </div>
    </div>
  </div>
</div>

<style>
/* ===== BASE STYLES ===== */
.admin-dashboard {
  padding: 16px;
  max-width: 1200px;
  margin: 0 auto;
  background: #F8FAFC;
  min-height: 100vh;
}

/* ===== DASHBOARD HEADER ===== */
.dashboard-header {
  background: white;
  border-radius: 16px;
  padding: 20px;
  margin-bottom: 16px;
  border: 1px solid #E2E8F0;
  box-shadow: 0 1px 3px rgba(15, 23, 42, 0.04);
}

.header-main {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  margin-bottom: 20px;
  flex-wrap: wrap;
  gap: 16px;
}

.dashboard-title {
  font-size: 24px;
  font-weight: 800;
  color: #0F172A;
  margin: 0 0 4px 0;
  display: flex;
  align-items: center;
  gap: 10px;
}

.title-icon {
  width: 32px;
  height: 32px;
  border-radius: 8px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 18px;
  color: white;
}

.dashboard-subtitle {
  color: #64748B;
  font-size: 14px;
  margin: 0;
  line-height: 1.4;
}

.logout-form {
  margin: 0;
}

.logout-btn {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 10px 16px;
  background: white;
  border: 1px solid #CBD5E1;
  border-radius: 10px;
  color: #475569;
  font-size: 14px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s;
}

.logout-btn:hover {
  background: #F1F5F9;
  border-color: #94A3B8;
  color: #0F172A;
}

.logout-icon {
  font-size: 16px;
  font-weight: 700;
}

/* ===== QUICK STATS ===== */
.quick-stats {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
  gap: 12px;
}

.stat-item {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 12px;
  background: white;
  border: 1px solid #E2E8F0;
  border-radius: 12px;
  transition: transform 0.2s;
}

.stat-item:hover {
  transform: translateY(-2px);
}

.stat-icon {
  width: 40px;
  height: 40px;
  border-radius: 10px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 18px;
  flex-shrink: 0;
  border: 1px solid;
}

.stat-info {
  flex: 1;
  min-width: 0;
}

.stat-label {
  display: block;
  font-size: 12px;
  color: #64748B;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.02em;
  margin-bottom: 2px;
}

.stat-value {
  font-size: 18px;
  font-weight: 700;
  color: #0F172A;
  line-height: 1;
}

/* ===== ALERT MESSAGES ===== */
.alert-message {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 12px 16px;
  border-radius: 10px;
  font-size: 14px;
  font-weight: 500;
  margin-bottom: 16px;
  animation: slideIn 0.3s ease;
}

.alert-icon {
  width: 20px;
  height: 20px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  flex-shrink: 0;
  color: white;
}

.alert-text {
  flex: 1;
  min-width: 0;
}

@keyframes slideIn {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* ===== ADMIN CARDS ===== */
.admin-cards-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
  gap: 16px;
  margin-bottom: 24px;
}

.admin-card {
  background: white;
  border-radius: 14px;
  padding: 20px;
  text-decoration: none;
  color: inherit;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
  border: 1px solid #E2E8F0;
}

.admin-card:hover {
  transform: translateY(-4px);
  box-shadow: 0 8px 24px rgba(15, 23, 42, 0.12);
  border-color: #CBD5E1;
}

.card-header {
  display: flex;
  align-items: flex-start;
  gap: 16px;
  margin-bottom: 16px;
}

.card-icon-wrapper {
  position: relative;
}

.card-icon {
  width: 48px;
  height: 48px;
  border-radius: 12px;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}

.card-icon svg {
  width: 24px;
  height: 24px;
}

.card-badge {
  position: absolute;
  top: -6px;
  right: -6px;
  color: white;
  font-size: 12px;
  font-weight: 700;
  padding: 2px 6px;
  border-radius: 10px;
  min-width: 20px;
  text-align: center;
  border: 2px solid white;
}

.card-title {
  font-size: 18px;
  font-weight: 700;
  color: #0F172A;
  margin: 4px 0 0 0;
  line-height: 1.3;
}

.card-description {
  color: #64748B;
  font-size: 14px;
  line-height: 1.5;
  margin: 0 0 20px 0;
}

.card-footer {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.card-action {
  font-size: 14px;
  font-weight: 600;
  transition: color 0.2s;
}

/* ===== QUICK ACTIONS ===== */
.quick-actions-section {
  background: white;
  border-radius: 14px;
  padding: 20px;
  margin-bottom: 24px;
  border: 1px solid #E2E8F0;
}

.section-title {
  font-size: 16px;
  font-weight: 700;
  color: #0F172A;
  margin: 0 0 16px 0;
}

.quick-actions-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
  gap: 12px;
}

.quick-action-btn {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 8px;
  padding: 16px;
  background: #F8FAFC;
  border: 2px solid;
  border-radius: 10px;
  font-size: 14px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s;
  width: 100%;
}

.quick-action-btn:hover {
  background: white;
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

.action-icon {
  font-size: 20px;
  margin-bottom: 4px;
}

.action-text {
  text-align: center;
  line-height: 1.3;
}

/* ===== RECENT ACTIVITY ===== */
.recent-activity {
  background: white;
  border-radius: 14px;
  padding: 20px;
  border: 1px solid #E2E8F0;
}

.activity-list {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.activity-item {
  display: flex;
  align-items: flex-start;
  gap: 12px;
  padding: 12px;
  border-radius: 10px;
  transition: background 0.2s;
}

.activity-item:hover {
  background: #F8FAFC;
}

.activity-icon {
  width: 32px;
  height: 32px;
  border-radius: 8px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 14px;
  flex-shrink: 0;
}

.activity-content {
  flex: 1;
  min-width: 0;
}

.activity-title {
  font-size: 14px;
  font-weight: 600;
  color: #0F172A;
  margin-bottom: 2px;
}

.activity-desc {
  font-size: 13px;
  color: #64748B;
  margin-bottom: 2px;
}

.activity-time {
  font-size: 12px;
  color: #94A3B8;
}

/* ===== RESPONSIVE DESIGN ===== */
@media (max-width: 768px) {
  .admin-dashboard {
    padding: 12px;
  }
  
  .dashboard-header {
    padding: 16px;
  }
  
  .header-main {
    flex-direction: column;
    align-items: stretch;
  }
  
  .logout-btn {
    width: 100%;
    justify-content: center;
  }
  
  .quick-stats {
    grid-template-columns: repeat(2, 1fr);
  }
  
  .admin-cards-grid {
    grid-template-columns: 1fr;
    gap: 12px;
  }
  
  .quick-actions-grid {
    grid-template-columns: repeat(2, 1fr);
  }
}

@media (max-width: 360px) {
  .admin-dashboard {
    padding: 8px;
  }
  
  .dashboard-title {
    font-size: 20px;
  }
  
  .dashboard-header {
    padding: 12px;
  }
  
  .quick-stats {
    grid-template-columns: 1fr;
  }
  
  .stat-item {
    padding: 10px;
  }
  
  .admin-card {
    padding: 16px;
  }
  
  .card-icon {
    width: 40px;
    height: 40px;
  }
  
  .card-icon svg {
    width: 20px;
    height: 20px;
  }
  
  .card-title {
    font-size: 16px;
  }
  
  .quick-actions-section,
  .recent-activity {
    padding: 16px;
  }
  
  .quick-actions-grid {
    grid-template-columns: 1fr;
  }
  
  .quick-action-btn {
    padding: 12px;
  }
}
</style>

<script>
document.addEventListener('DOMContentLoaded', function() {
  // Update pending count display with brand colors
  function updatePendingCount() {
    const businessPending = parseInt('<%= pendingBusinessVerifications || 0 %>');
    const ordersPending = parseInt('<%= pendingOrders || 0 %>');
    const totalPending = businessPending + ordersPending;
    
    const pendingCountEl = document.getElementById('pendingCount');
    if (pendingCountEl) {
      pendingCountEl.textContent = totalPending;
      if (totalPending > 0) {
        pendingCountEl.style.color = '#7C3AED';
        pendingCountEl.style.fontWeight = '700';
      }
    }
  }
  
  // Add interactive hover effects
  const adminCards = document.querySelectorAll('.admin-card[href]');
  adminCards.forEach(card => {
    card.addEventListener('mouseenter', function() {
      this.style.transform = 'translateY(-4px)';
    });
    
    card.addEventListener('mouseleave', function() {
      this.style.transform = 'translateY(0)';
    });
  });
  
  // Add click effect to quick action buttons
  const quickActionBtns = document.querySelectorAll('.quick-action-btn');
  quickActionBtns.forEach(btn => {
    btn.addEventListener('click', function(e) {
      // Add visual feedback
      this.style.transform = 'scale(0.98)';
      setTimeout(() => {
        this.style.transform = '';
      }, 150);
    });
  });
  
  // Auto-dismiss alerts after 5 seconds
  const alerts = document.querySelectorAll('.alert-message');
  alerts.forEach(alert => {
    setTimeout(() => {
      alert.style.opacity = '0';
      alert.style.transform = 'translateY(-10px)';
      setTimeout(() => {
        alert.style.display = 'none';
      }, 300);
    }, 5000);
  });
  
  // Initialize
  updatePendingCount();
  
  // Add loading animation for stats
  const statItems = document.querySelectorAll('.stat-item');
  statItems.forEach((item, index) => {
    item.style.animationDelay = `${index * 0.1}s`;
    item.style.animation = 'fadeInUp 0.5s ease forwards';
    item.style.opacity = '0';
  });
  
  // Add CSS animation
  const style = document.createElement('style');
  style.textContent = `
    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(10px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
  `;
  document.head.appendChild(style);
});
</script>


