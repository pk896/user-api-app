<!-- views/users-verify-pending.ejs -->
<section class="verify-page mini">
  <% const profileUser = user || locals.user || {}; %>

  <h1 class="page-title">üìß Verify your email</h1>

  <% (success || []).forEach(msg => { %>
    <div class="flash flash-success">‚úÖ <%= msg %></div>
  <% }) %>

  <% (error || []).forEach(msg => { %>
    <div class="flash flash-error">‚ùå <%= msg %></div>
  <% }) %>

  <div class="card">
    <p class="lead">
      We‚Äôve sent a verification email to:
    </p>
    <p class="email">
      <strong><%= profileUser.email || 'your email' %></strong>
    </p>
    <p class="hint">
      Please open that email and click the <strong>‚ÄúVerify my email‚Äù</strong> button
      to confirm this is your real address.
    </p>

    <p class="hint small">
      Didn‚Äôt get it? Check your spam folder or tap the button below to resend.
    </p>

    <form action="/users/verify-email/resend" method="post" class="actions">
      <button type="submit" class="btn xs primary wfull">üîÅ Resend verification email</button>
    </form>

    <p class="hint small">
      After verification, you‚Äôll be redirected to your dashboard.
    </p>
  </div>

  <p class="back-link">
    <a href="/users/profile">‚Üê Back to profile</a>
  </p>
</section>

<style nonce="<%= typeof nonce !== 'undefined' ? nonce : '' %>">
  .verify-page.mini{
    max-width:420px; margin:.9rem auto 1.2rem; padding:0 .6rem; font-size:.85rem;
  }
  .page-title{
    text-align:center; font-size:1.05rem; font-weight:800; margin:.2rem 0 .7rem;
  }

  .card{
    background:var(--card-bg,#fff); border:1px solid var(--card-bd,#e5e7eb);
    border-radius:12px; padding:.7rem; box-shadow:0 1px 3px rgba(0,0,0,.06);
  }
  .dark-theme .card{
    --card-bg:#1f2937; --card-bd:#374151; color:#e5e7eb;
  }

  .lead{ margin-bottom:.35rem; }
  .email{ margin:.1rem 0 .4rem; font-size:.9rem; }
  .hint{ margin:.1rem 0 .3rem; color:#4b5563; }
  .hint.small{ font-size:.78rem; color:#6b7280; }
  .dark-theme .hint, .dark-theme .hint.small{ color:#9ca3af; }

  .actions{ margin-top:.4rem; }

  .btn{
    display:inline-block; width:100%; padding:.35rem .55rem; border-radius:8px;
    text-decoration:none; border:1px solid #2563eb; background:#2563eb; color:#fff;
    font-size:.78rem; font-weight:700;
  }
  .btn.xs{ padding:.3rem .5rem; font-size:.72rem; border-radius:7px; }
  .btn.primary:hover{ opacity:.95; }
  .wfull{ width:100%; }

  .flash{
    margin:.36rem 0; padding:.5rem .64rem; border-radius:.6rem; font-size:.84rem;
  }
  .flash-success{ background:#ecfdf5; color:#065f46; border:1px solid #a7f3d0; }
  .flash-error{ background:#fef2f2; color:#991b1b; border:1px solid #fecaca; }

  .back-link{ margin-top:.6rem; text-align:center; font-size:.8rem; }

  @media (max-width:360px){
    .verify-page.mini{ padding:0 .5rem; }
    .page-title{ font-size:1rem; }
  }
</style>
