<!--views/products.ejs-->
<h1>All Products</h1>

<!-- Flash messages -->
<% if (success_msg && success_msg.length > 0) { %>
  <div class="alert alert-success"><%= success_msg %></div>
<% } %>

<% if (error_msg && error_msg.length > 0) { %>
  <div class="alert alert-danger"><%= error_msg %></div>
<% } %>

<div class="products-container">
  <% products.forEach(product => { %>
    <div class="product-card">
      <img src="<%= product.image %>" alt="<%= product.name %>" width="200">
      <h2><%= product.name %></h2>
      <p>Price: $<%= product.price %></p>
      <p><%= product.description %></p>

      <!-- Delete form -->
      <form action="/products/delete/<%= product.id %>" method="POST" onsubmit="return confirm('Are you sure you want to delete this product?');">
        <button type="submit" class="btn-delete">Delete</button>
      </form>
    </div>
  <% }) %>
</div>

<!-- Link to Add Product page -->
<a href="/products/add" class="btn-add">âž• Add New Product</a>
